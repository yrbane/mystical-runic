<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Boutique Magique - RunicShop - Magie des templates modernes</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 0; padding: 20px; }
        .header { background: #2c3e50; color: white; padding: 20px; margin: -20px -20px 20px; }
        .nav { margin: 20px 0; }
        .nav a { margin-right: 20px; text-decoration: none; color: #3498db; }
        .card { border: 1px solid #ddd; padding: 15px; margin: 10px 0; border-radius: 5px; }
        .price { font-weight: bold; color: #e74c3c; }
        .sale { background: #e74c3c; color: white; padding: 2px 8px; border-radius: 3px; }
        .stats { display: flex; gap: 20px; margin: 20px 0; }
        .stat { text-align: center; padding: 15px; background: #ecf0f1; border-radius: 5px; }
        .security-demo { background: #ffe6e6; padding: 10px; margin: 10px 0; border-radius: 5px; }
        .nested-demo { background: #e6f3ff; padding: 15px; margin: 10px 0; border-radius: 5px; }
        .filter-demo { background: #f0fff0; padding: 10px; margin: 10px 0; border-radius: 5px; }
        .macro-demo { background: #fff5ee; padding: 10px; margin: 10px 0; border-radius: 5px; }
    </style>
</head>
<body>
    <header class="header">
        <h1>🔮 RunicShop - Démonstration Complète</h1>
        <p>welcome_message" name=user.name</p>
        <nav class="nav">
            <a href="#products">Produits</a>
            <a href="#blog">Blog</a>
            <a href="#stats">Statistiques</a>
            <a href="#security">Sécurité</a>
        </nav>
    </header>

    <main>
        <!-- 🔮 TOUTES LES FONCTIONNALITÉS DE MYSTICAL-RUNIC EN ACTION! -->

<!-- 🌐 INTERNATIONALIZATION (i18n) -->
<section id="i18n">
    <h2>🌐 Internationalisation</h2>
    <p>Langue actuelle: <strong>fr</strong></p>
    <p>user_greeting" name=user.name role=user.role</p>
    <p>site_description" site_name=site.name</p>
</section>

<!-- 📝 PLURALIZATION SYSTÈME -->
<section id="pluralization">
    <h2>📝 Système de Pluralisation</h2>
    <div class="stats">
        <div class="stat">
            <h3>3</h3>
            <p>articles dans le panier</p>
        </div>
        <div class="stat">
            <h3>156</h3>
            <p>produits disponible(s)</p>
        </div>
        <div class="stat">
            <h3>2847</h3>
            <p>utilisateurs inscrit(s)</p>
        </div>
    </div>
</section>

<!-- 🔢 ADVANCED MATH FILTERS -->
<section id="math-filters" class="filter-demo">
    <h2>🔢 Filtres Mathématiques Avancés</h2>
    <p><strong>Sous-total:</strong> $89.00</p>
    <p><strong>Taux de TVA:</strong> 2000.0%</p>
    <p><strong>Montant TVA:</strong> $89.00</p>
    <p><strong>Montant total:</strong> $89.00</p>
    <p><strong>Remise:</strong> 1500%</p>
    <p><strong>Économies:</strong> $89.00</p>
</section>

<!-- 🎨 CUSTOM FILTERS & CHAINING -->
<section id="custom-filters" class="filter-demo">
    <h2>🎨 Filtres Personnalisés</h2>
    <p><strong>Nom d'utilisateur:</strong> ALEXDEV</p>
    <p><strong>Biographie:</strong> <p>Développeur <strong>passionné</strong> de *Ru...</p>
    <p><strong>Date d'inscription:</strong> 2024-01-15</p>
    <p><strong>ID chiffré:</strong> 🔐&gt;?@AB</p>
</section>

<!-- 🏗️ TEMPLATE INHERITANCE & SUPER -->
<section id="inheritance">
    <h2>🏗️ Héritage de Templates</h2>
    <p>Ce template étend 'base.html' et utilise  dans le titre</p>
    <div class="card">
        <h3>Fonctionnalités du template de base</h3>
        <ul>
            <li>En-tête avec navigation</li>
            <li>Menu de navigation</li>  
            <li>Pied de page</li>
            <li>Styles CSS</li>
        </ul>
    </div>
</section>

<!-- 📦 REUSABLE MACROS SYSTEM -->


<section id="macros">
    <h2>📦 Macros Réutilisables</h2>
    <p>Macros réutilisables avec paramètres pour éviter la duplication</p>
    
    <!-- Utilisation des macros avec différents paramètres -->
    
    
    
</section>

<!-- 🔄 NESTED LOOPS (NOUVELLEMENT IMPLÉMENTÉ!) -->
<section id="nested-loops" class="nested-demo">
    <h2>🔄 Boucles Imbriquées</h2>
    <p>Support complet des boucles imbriquées avec parsing basé sur une pile</p>
    
    <h3>Catégories de produits</h3>
    
        <div class="card">
            <h4>📁 🔮 Magie du Code ()</h4>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 10px;">
                
            </div>
        </div>
    
        <div class="card">
            <h4>📁 ⚡ Performance ()</h4>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 10px;">
                
            </div>
        </div>
    
</section>

<!-- 🔄 NESTED INCLUDES (NOUVELLEMENT IMPLÉMENTÉ!) -->
<section id="nested-includes" class="nested-demo">
    <h2>🔄 Inclusions Imbriquées</h2>
    <p>Inclusions récursives pour des hiérarchies de templates complexes</p>
    
    <div class="card">
        <h3>Carte de profil utilisateur</h3>
        <div style="border-left: 4px solid #3498db; padding-left: 15px;">
    <h4>👤 Alexandre Développeur</h4>
    <p><strong>Rôle:</strong> ADMIN</p>
    <p><strong>Membre depuis:</strong> 2024-01-15</p>
    <p><strong>Localisation:</strong> Paris, France</p>
    
    <!-- Nested include dans user_profile! -->
    <div style="margin-top: 15px; padding: 10px; background: #f8f9fa; border-radius: 3px;">
        <h5>🎮 Statistiques de jeu</h5>
        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; text-align: center;">
    <div style="background: #fff; padding: 10px; border-radius: 3px; border: 1px solid #ddd;">
        <strong>42</strong><br>
        <small>Niveau</small>
    </div>
    <div style="background: #fff; padding: 10px; border-radius: 3px; border: 1px solid #ddd;">
        <strong>15750</strong><br>
        <small>Expérience</small>
    </div>
    <div style="background: #fff; padding: 10px; border-radius: 3px; border: 1px solid #ddd;">
        <strong></strong><br>
        <small>succès</small>
    </div>
</div>

<div style="margin-top: 10px;">
    <h6>🏆 Succès récents</h6>
    <ul style="margin: 0; padding-left: 20px;">
        
    </ul>
</div>
    </div>
    
    <!-- Encore un nested include! -->
    <div style="margin-top: 10px;">
        <h5>⚙️ Préférences utilisateur</h5>
        <div style="background: #f1f2f6; padding: 10px; border-radius: 3px;">
    <p><strong>🎨 Thème:</strong> DARK</p>
    <p><strong>🌐 Langue:</strong> FR</p>
    <p><strong>📧 Notifications:</strong> ✅ Activé❌ Désactivé</p>
    <p><strong>🔒 Niveau de confidentialité:</strong> HIGH</p>
</div>
    </div>
</div>
    </div>
    
    <div class="card">
        <h3>Articles de blog</h3>
        <div>
    <p>Articles récents avec commentaires imbriqués</p>
    
    <!-- Nested loops dans le blog section! -->
    
</div>
    </div>
</section>

<!-- 🛡️ SECURITY FEATURES (PATH TRAVERSAL PROTECTION) -->
<section id="security" class="security-demo">
    <h2>🛡️ Fonctionnalités de Sécurité</h2>
    <p>Démonstration des fonctionnalités de sécurité intégrées</p>
    
    <div class="card">
        <h4>✅ Protection XSS</h4>
        <p>Saisie utilisateur (échappée): &lt;script&gt;alert(&#x27;XSS&#x27;)&lt;/script&gt;Contenu sûr</p>
        <p>Saisie brute (sûre): <em>Contenu HTML sûr</em></p>
    </div>
    
    <div class="card">
        <h4>✅ Protection Path Traversal</h4>
        <p>Les tentatives d'accès aux fichiers système sont automatiquement bloquées</p>
        <ul>
            <li>✅ Motifs bloqués: <code>../</code>, <code>..\</code></li>
            <li>✅ Chemins absolus bloqués: <code>/etc/passwd</code></li>
            <li>✅ Lettres de lecteur bloquées: <code>C:\Windows</code></li>
        </ul>
    </div>
</section>

<!-- 🌊 DEEP DOT NOTATION -->
<section id="deep-dot">
    <h2>🌊 Navigation Profonde</h2>
    <div class="card">
        <h4>Profil utilisateur détaillé</h4>
        <p><strong>Nom:</strong> Alexandre Développeur</p>
        <p><strong>Localisation:</strong> Paris, France</p>
        <p><strong>preferences:</strong> dark Thème, fr Langue</p>
        <p><strong>Niveau:</strong> 42 (15750 XP)</p>
        <p><strong>achievements:</strong> Code Master, Template Wizard</p>
    </div>
</section>

<!-- ⚡ PERFORMANCE FEATURES -->
<section id="performance">
    <h2>⚡ Fonctionnalités de Performance</h2>
    <div class="stats">
        <div class="stat">
            <h3>📊 Cache des templates</h3>
            <p>Statut du cache: ✅ Activé</p>
        </div>
        <div class="stat">
            <h3>🚀 Compilation bytecode</h3>
            <p>Statut bytecode: ✅ Actif</p>
        </div>
        <div class="stat">
            <h3>🔄 Traitement parallèle</h3>
            <p>Statut parallèle: ✅ disponible(s)</p>
        </div>
    </div>
</section>

<!-- 🎭 DUAL NAMING SYSTEM -->
<section id="naming">
    <h2>🎭 Système de Nommage Dual</h2>
    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
        <div class="card">
            <h4>🏢 Style Professionnel</h4>
            <ul>
                <li><code>TemplateEngine</code></li>
                <li><code>TemplateContext</code></li>
                <li><code>TemplateValue</code></li>
                <li><code>FilterFunction</code></li>
            </ul>
        </div>
        <div class="card">
            <h4>🔮 Style Mystique</h4>
            <ul>
                <li><code>RuneEngine</code></li>
                <li><code>RuneScroll</code></li>
                <li><code>RuneSymbol</code></li>
                <li><code>MysticFilter</code></li>
            </ul>
        </div>
    </div>
</section>
    </main>

    <footer>
        <p>&copy; 2025 RunicShop - Propulsé par 🔮 Mystical-Runic v0.3.4</p>
        <p>Langue actuelle: fr | Tests: 173+</p>
    </footer>
</body>
</html>